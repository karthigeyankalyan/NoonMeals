{% extends "base.html" %}
{% block content %}

<label for="DistrictSelect" style="margin-left: 6%">District Select:</label>
<select id="DistrictSelect" style="margin-left: 1%; position: relative;">
</select>

<script>
    var date = "{{date}}";
    var source = "/raw_retirement_by_date/"+date;

        $.ajax({
            type: 'GET',
            url: source,
            contentType: "application/json",
            dataType: 'json',
            success: function (json) {
                    {
                        var distArray = [];
                        var arrDistinct = [];
                        for(var i = 0; i<= json.length; i++){
                            distArray.push(json[i]['District'])
                        }

                        $(document).ready(function () {
                            $(distArray).each(function (index, item) {
                                if ($.inArray(item, arrDistinct) === -1)
                                    arrDistinct.push(item);
                            });

                        console.log(arrDistinct);
                        console.log(distArray);
                        console.log(json);

                        $(arrDistinct).each(function (index, item) {
                            $("#DistrictSelect").append($("<option>").html(item));
                            });
                        });
                    }},
            error: function (e) {
                alert("error");
            }
        });
</script>

{% endblock %}
